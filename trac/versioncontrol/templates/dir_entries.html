<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:py="http://genshi.edgewall.org/"
    xmlns:xi="http://www.w3.org/2001/XInclude" py:strip="">
  <py:if test="xhr">
    <xi:include href="macros.html" />
  </py:if>
  <py:for each="idx, entry in enumerate(dir.entries)">
    <py:with vars="change = dir.changes[entry.rev]">
      <tr class="${idx % 2 and 'even' or 'odd'}">
        <td class="name" py:choose="entry.kind" py:with="href=href.browser(entry.path, rev=stickyrev, order=(dir.order != 'name' and dir.order or None), desc=dir.desc)">
          <py:when test="'dir'">
            <span class="direxpand" title="Expand Directory">&#x200b;</span>
            <a class="dir" title="Browse Directory" href="$href">$entry.name</a>
          </py:when>
          <a py:otherwise="" class="$entry.kind" title="View ${entry.kind.capitalize()}" href="$href">$entry.name</a>
        </td>
        <td class="size">${sizeinfo(entry.content_length)}</td>
        <td class="rev">
          <a title="View Revision Log"
            href="${href.log(entry.path, rev=rev)}">$entry.rev</a>
        </td>
        <td class="age" style="${dir.timerange and 'color: rgb(%s)' %
          ', '.join([str(color) for color in
          dir.colorize_age(dir.timerange.relative(change.date))]) or ''}">
          ${dateinfo(change.date)}
        </td>
        <td class="change">
          <span class="author">${authorinfo(change.author)}:</span>
          <span class="change" py:choose="">
            <py:when test="wiki_format_messages">
              ${wiki_to_oneliner(context('changeset', change.rev), change.message, shorten=True)}
            </py:when>
            <py:otherwise>${shorten_line(change.message)}</py:otherwise>
          </span>
        </td>
      </tr>
    </py:with>
  </py:for>
</html>
