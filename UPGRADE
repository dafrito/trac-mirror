Upgrade Instructions
====================

Upgrading to 0.7
----------------
Previous versions of Trac stored wiki pages, ticket, reports, 
settings, etc. in a single sqlite database.
As of version 0.7 this information is stored in Trac Environments. 
An Environment is a directory containing among other things a sqlite database,
human readable configuration file, log-files and attachments.

Old Trac databases can be converted to environments using the "tracdb2env"
program:

  tracdb2env /path/to/old/project.db /where/to/create/new/env

tracdb2env will create a new environment and copy the information from
the old database to the new environment. The existing database will
not be modified.

You also need to update your apache configuration:
change this line:
   SetEnv TRAC_DB "/somewhere/myproject.db"
to:
   SetEnv TRAC_ENV "/somewhere/myprojectenv"


Updating wiki pages
-------------------
There are a set of default wiki pages included in the install,
automatically imported upon creating a new environment with the 
'trac-admin initenv' command.

If you wish to update these pages on an already existing [older] Trac 
environment, you can import the pages manually using trac-admin:
   
 trac-admin myprojectenv wiki upgrade

Please note that you have to repeat this step for each Trac environment
you wish to upgrade.

--

If you have trouble upgrading Trac, please ask questions on the mailing list:

  <http://projects.edgewall.com/trac/wiki/MailingList>

Or for other support options, see:

  <http://projects.edgewall.com/trac/wiki/TracSupport>