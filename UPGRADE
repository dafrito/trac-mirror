Upgrade Instructions
====================

Upgrading to 0.7
----------------
Trac 0.7 has a new database format, requiring manual upgrade.

Previous versions of Trac stored wiki pages, ticket, reports,
settings, etc. in a single SQLite database file. Trac 0.7 replaces this file
with a new backend storage format; the 'Trac Environment', which is a
directory containing an SQLite database, a human-readable configuration file,
log-files and attachments.

Fear not though, old-style Trac databases can easily be converted to
Environments using the included "tracdb2env" program as follows:

  tracdb2env /path/to/old/project.db /path/to/new/projectenv

tracdb2env will create a new environment and copy the information from
the old database to the new environment. The existing database will
not be modified.

You also need to update your apache configuration:
change this line:
   SetEnv TRAC_DB "/path/to/old/project.db"
to:
   SetEnv TRAC_ENV "/path/to/new/projectenv"


Updating wiki pages
-------------------
There are a set of default wiki pages included in the install,
automatically imported upon creating a new environment with the 
'trac-admin initenv' command.

If you wish to update these pages on an already existing [older] Trac 
environment, you can import the pages manually using trac-admin:
   
 trac-admin myprojectenv wiki upgrade

Please note that you have to repeat this step for each Trac environment
you wish to upgrade.

--

If you have trouble upgrading Trac, please ask questions on the mailing list:

  <http://projects.edgewall.com/trac/wiki/MailingList>

Or for other support options, see:

  <http://projects.edgewall.com/trac/wiki/TracSupport>