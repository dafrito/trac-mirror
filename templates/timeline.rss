<?xml version="1.0"?>
<rss version="2.0" xmlns:py="http://genshi.edgewall.org/">
 <channel>
  <title>${project.name}</title>
  <link>${abs_href.timeline}</link>
  <description>Trac Timeline</description>
  <language>en-US</language>
  <generator>Trac ${trac.version}</generator>
  <image py:if="chrome.logo.src">
   <title>${project.name}</title>
   <url>${chrome.logo.src}</url>
   <link>${abs_href.timeline}</link>
  </image>

  <item py:for="_, event in events">
   <title>${plaintext(event.title, keeplinebreaks=False)}</title>
   <py:with vars="author=event.author; author = author and '@' in author and author or email_map.get(author)">
    <author py:if="author">$author</author>
   </py:with>
   <pubDate>${http_date(event.date)}</pubDate>
   <link><py:if test="event.href.startswith('/')">${to_abs_href(event.href)}</py:if></link>
   <guid isPermaLink="false">${to_abs_href(event.href)}/${event.dateuid}</guid>
   <description>${event.message}<py:if test="event.wiki">${wiki_to_html(event.wiki,absurls=True)}</py:if></description>
  </item>

 </channel>
</rss>
