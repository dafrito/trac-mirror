= The Trac Configuration File =
[[TracGuideToc]]

Trac configuration is done by editing the '''`trac.ini`''' config file, located in `<projectenv>/conf/trac.ini`.

== Global Configuration ==

Since version 0.9, Trac can also read the configuration from a global `trac.ini` file. These global options will then be merged with the environment-specific options, where local options override global options.

The global configuration is by default located in `$prefix/share/trac/conf/trac.ini`. It can be moved to a different location (for example, `/etc/trac.ini`), but that requires changing the file `trac/siteconfig.py` which gets created when Trac is installed. 

== Reference ==

This is a brief reference of available configuration options.

'''Note: since [milestone:0.10], the TracIni reference is auto-generated
from the source code, using the TracIniMacro. But in this page, we will keep
the old ''wiki'' content, so that documentation fixes could be easily 
contributed by the community, as before.'''


== [trac] ==
|| `base_url` || Base URL of the Trac deployment.[[BR]]In most configurations, Trac will automatically reconstruct the URL that is used to access it automatically. However, in more complex setups, usually involving running Trac behind a HTTP proxy, you may need to use this option to force Trac to use the correct URL. ||
|| `database`        || [wiki:TracEnvironment#DatabaseConnectionStrings Database connection string] for this project ||
|| `default_charset` || Charset used in text files in the subversion repository (default is `iso-8859-15`) ||
|| `default_handler` || Name of the component that handles requests to the base URL (default is `WikiModule`. Some other options are `TimelineModule`, `RoadmapModule`, `BrowserModule`, `QueryModule`, ` ReportModule` and `NewticketModule`) (''since 0.9'') ||
|| `repository_dir`  || Path to local Subversion repository ||
|| `authz_file`      || Path to Subversion [http://svnbook.red-bean.com/en/1.1/ch06s04.html#svn-ch-6-sect-4.4.2 authorization (authz) file]. ||
|| `authz_module_name` || The module prefix used in the `authz_file` (See [http://projects.edgewall.com/trac/wiki/FineGrainedPermissions FineGrainedPermissions])||
|| `check_auth_ip` || Whether the IP address of the user should be checked for authentication (true, false) (''since 0.9'') ||
|| `ignore_auth_case` || Whether case should be ignored for login names (true, false) (''since 0.9'') ||
|| `templates_dir`   || Path to the !ClearSilver templates ||
|| `htdocs_location`   || Path to the static resources (default is `/trac`)||
|| `permissions_store` || ||
|| `metanav` || The order of the sections displayed in the meta nav bar, adding or removing section in this list is done with [wiki:TracPermissions trac's permission system] ||
|| `mainnav` || The order of the sections displayed in the main nav bar ||

== [diff] ==
|| `tab_width` || ''deprecated since 0.9 in favor of the `tab_width` option in the `[mimeviewer]` section'' ||
 
== [project] ==
|| `name`   || Project name ||
|| `descr`  || Short project description ||
|| `url`    || URL to the main project website ||
|| `icon`   || URL to icon file to use as shortcut icon (favicon) ||
|| `footer` || Page footer text (right-aligned) ||

== [header_logo] ==
|| `src`    || URL to image to use as header logo ||
|| `link`   || Destination URL to link to from header logo ||
|| `alt`    || ''alt'' text for header logo ||
|| `width`  || Header logo width in pixels ||
|| `height` || Header logo height in pixels ||
See also: TracInterfaceCustomization.

== [logging] ==
|| `log_type`  || Logging facility to use. (none, file, stderr, syslog, winlog) ||
|| `log_file`  || If ''log_type'' is ''file'', this should be a path to the log-file ||
|| `log_level` || Level of verbosity in log (CRITICAL, ERROR, WARN, INFO, DEBUG) ||
See also: TracLogging

== [attachment] ==
|| `max_size` || Maximum allowed file size for ticket and wiki attachments ||
|| `render_unsafe_content` || Whether non-binary attachments should be rendered in the browser, or only made downloadable. Pretty much any text file may be interpreted as HTML by the browser, which allows a malicious user to attach a file containing cross-site scripting attacks. For public sites where anonymous users can create attachments, it is recommended to leave this option off (which is the default). ||

== [notification] ==
|| `smtp_enabled`   || Enable SMTP (email) notification (true, false) ||
|| `smtp_server`    || SMTP server hostname to use for email notifications (default: `localhost`) ||
|| `smtp_port`      || SMTP server port to use for email notifications (default: `25`)||
|| `smtp_user`      || Username for SMTP server (''since 0.9'') ||
|| `smtp_password`  || Password for SMTP server (''since 0.9'') ||
|| `smtp_from`      || Sender address to use in notification emails ||
|| `smtp_replyto`   || Reply-To address to use in notification emails ||
|| `smtp_default_domain` || Append the specified domain to addresses that do not contain one (''since 0.10'') ||
|| `smtp_always_cc` || Email address(es) to always send notifications to ||
|| `smtp_always_bcc` || Email address(es) to always send notifications to, but keep addresses not visible from other recipients (''since 0.10'') ||
|| `use_public_cc` || Recipients can see email addresses of other CC'ed recipients (''since 0.10'') ||
|| `use_short_addr` || Send username/login as is to the SMTP server (''since 0.10'') ||
|| `always_notify_reporter` || Always send notifications to any address in the ''reporter'' field ||
|| `always_notify_owner` || Always send notifications to the ticket owner (''since 0.9'') ||
|| `always_notify_updater` || The updater of a ticket receives a notification of his own changes (''since 0.10'') ||
|| `mime_encoding` || Specify the MIME encoding scheme for emails (''since 0.10'') ||

See also: TracNotification

== [mimeviewer] ==
|| `enscript_path` || Path to the Enscript program ||
|| `php_path` || Path to the PHP program ||
|| `max_preview_size` || Maximum file size for HTML preview (''since 0.9'') ||
|| `tab_width` || Displayed tab width in file preview (''since 0.9'') ||

== [ticket] ==
|| `default_version`   || Default version for newly created tickets ||
|| `default_severity`  || Default severity for newly created tickets ||
|| `default_priority`  || Default priority for newly created tickets ||
|| `default_milestone` || Default milestone for newly created tickets ||
|| `default_component` || Default component for newly created tickets ||
|| `default_type`      || Default type for newly created tickets ||
|| `restrict_owner`    || Make the owner field of tickets use a drop-down menu (''since 0.9''). See [wiki:TracTickets#Assign-toasDrop-DownList AssignToAsDropDownList] ||

== [ticket-custom] ==
Creates [wiki:TracTicketsCustomFields user-defined ticket fields].

== [timeline] ==
|| `default_daysback` || Default "depth" of the Timeline, in days (''since 0.9'') ||
|| `changeset_show_files` || Number of files to show (-1 for unlimited, 0 to disable) ||
|| `ticket_show_details` || Enable the display of all ticket changes in the timeline (''since 0.9?'')||

== [browser] ==
|| `hide_properties` || List of subversion properties to hide from the repository browser (''since 0.9'') ||

== [wiki] ==
|| `ignore_missing_pages` || enable/disable highlighting CamelCase links to missing pages (''since 0.9'') ||

== [components] ==
(''since 0.9'')

This section is used to enable or disable components provided by plugins, as well as by Trac itself. The component to enable/disable is specified via the name of the option. Whether its enabled is determined by the option value; setting the value to `enabled` or `on` will enable the component, any other value (typically `disabled` or `off`) will disable the component.

The option name is either the fully qualified name of the components or the module/package prefix of the component. The former enables/disables a specific component, while the latter enables/disables any component in the specified package/module.

Consider the following configuration snippet:
{{{
[components]
trac.ticket.report.ReportModule = disabled
webadmin.* = enabled
}}}

The first option tells Trac to disable the [wiki:TracReports report module]. The second option instructs Trac to enable all components in the `webadmin` package. Note that the trailing wildcard is required for module/package matching. To get a list of active components for your installation, see the ''Plugins'' page on ''About Trac'' (requires `CONFIG_VIEW` [wiki:TracPermissions permissions].)

See also: TracPlugins

== [changeset] ==
(''since 0.10'')

|| `max_diff_bytes` || A limit for the sum of the size of all old ''and'' new files involved in a changeset. [[br]] Note that when requesting a diff precisely on a very big file (e.g. by the use of the ''Last Change'' link), the size limit will ''not'' be taken into account and the diffs will always be computed. ||

----
See also: TracGuide, TracAdmin, TracEnvironment